'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

require('vue');
var PouchDB = _interopDefault(require('pouchdb'));
var find = _interopDefault(require('pouchdb-find'));

const host = "localhost";
const couchdb = {
  host : host,
  port : 5984,
  protocol : "http",
  database : "film_sf",
  reader : false,
  reader_password : "8JVkYanY2s6KMjPY"
};

PouchDB.plugin(find);

let {
  protocol: protocol$1 = "https",
  reader,
  reader_password,
  host: host$1,
  port,
  database
} = couchdb;

let url = protocol$1+"://";

if(reader) {
  url += reader+":"+reader_password+"@";
}

url += host$1;

if(port) {
  url += ":"+port;
}

const pouchDB = new PouchDB(url+"/"+database);

if(process.BROWSER_BUILD) {
  slave = new PouchDB(vars.couchdb_database);

  slave.replicate(pouchDB).then(
    () => { pouchDB = slave; }
  );
}


var pouchDB$1 = pouchDB;

const imageLoader = require("../couchdb/image_loader.js");

imageLoader(pouchDB$1).then(
  () => { console.log("image sync complete");},
  console.warn
);
